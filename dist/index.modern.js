import{useRef as r,useLayoutEffect as e,useEffect as n,useCallback as t,useState as u,useReducer as l}from"react";import a from"json2mq";var o=(n,t)=>{var u=r(n);return e(()=>{u.current=n},t),u},i=function(r,e){void 0===e&&(e=[]);var t=o(r);n(()=>{var r=requestAnimationFrame(r=>null==t.current?void 0:t.current(r));return()=>cancelAnimationFrame(r)},e)},c=()=>({}),v=()=>"undefined"!=typeof window&&void 0!==window.document,d=()=>v()?{x:window.scrollX,y:window.scrollY}:{},s=()=>v()?{innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight}:{},f=r=>(r=>r instanceof Object&&r.nativeEvent instanceof Event)(r)&&r.persist(),m=e=>(u,l,a)=>{var i=o(u),c=r(e(u,l,a));return n(()=>(c.current=e(function(){return i.current(...arguments)},l,a),()=>{var r;return null==(r=c.current)?void 0:r.cancel()}),[i,a,l]),t(function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e.forEach(f),c.current(...e)},[])},g=(r,e)=>{var n,t=null,u=null,l=function(){for(var l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return u=a,null===t&&(t=setTimeout(()=>{null!==u&&(n=r(...u),u=null),t=null},e)),n};return l.cancel=()=>{null!==t&&clearTimeout(t),t=null,u=null},l},h=m(g),w=e=>(t,l,a,i)=>{var[c,v]=u(),d=o(t),s=r(e(t,a,i));return n(()=>(s.current=e(function(){var r=d.current(...arguments);return v(r),r},a,i),()=>{var r;return null==(r=s.current)?void 0:r.cancel()}),[d,i,a]),n(()=>{s.current(...l)},l),c},p=w(g),E=function(e,n){void 0===n&&(n=[]);var u=o(e),l=r();return t(function(){l.current&&l.current();for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];l.current=null==u.current?void 0:u.current(...e)},n)},y=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return t(r=>{var{target:{checked:n}}=r;return e.forEach(r=>null==r?void 0:r(Boolean(n)))},e)},A=function(r){void 0===r&&(r=!1);var[e,n]=u(r);return[e,n,y(n)]},b=e=>{var n=r(e);return{set:r=>{n.current=r},get:()=>n.current,is:r=>n.current===r}},T=function(r,e){void 0===e&&(e=null);for(var n=arguments.length,u=new Array(n>2?n-2:0),l=2;l<n;l++)u[l-2]=arguments[l];return t(function(){for(var n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return null==r?void 0:r.apply(e,[...u,...t])},[r,...u])},F=function(r,e,n){var t,{leading:u,trailing:l}=void 0===n?{trailing:!0}:n,a=null,o=null,i=function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=i,null!==o?clearTimeout(o):u&&(t=r(...a),a=null),o=setTimeout(()=>{l&&null!==a&&(t=r(...a),a=null),o=null},e),t};return i.cancel=()=>{null!==o&&clearTimeout(o),a=null,o=null},i},L=m(F),q=w(F),O=r=>n(r,[]),I=r=>O(r),j=(e,t)=>{var u=r(!1);n(u.current?e:()=>{u.current=!0},t)},M=(r,e,n)=>{var t;r&&(!n||(t=e.target)instanceof Object&&"matches"in t&&e.target.matches(n))&&r(e)},W=function(e,t,u,l){var{capture:a,once:i,passive:c,selectors:v,usingAnimationFrame:d,enabled:s=!0}=void 0===l?{}:l,f=o(u),m=r(0);n(()=>{if(s){var r=(r=>r instanceof Function?r():r)(e);if(r){var n=r=>{d?(cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>M(f.current,r,v))):M(f.current,r,v)},u=Array.isArray(t)?t:[t];return u.forEach(e=>r.addEventListener(e,n,{capture:a,once:i,passive:c})),()=>{d&&m.current&&cancelAnimationFrame(m.current),u.forEach(e=>r.removeEventListener(e,n,{capture:a}))}}}},[e,a,i,c,v,d,s,...t])},k=()=>l(c,{}),H=()=>k()[1],R=function(r,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var u=t(e=>{var n;!document.fullscreenElement||!1!==e&&void 0!==e||document.exitFullscreen(),document.fullscreenElement||!0!==e&&void 0!==e||null==(n=r.current)||null==n.requestFullscreen||n.requestFullscreen()},[r]);return W(document,"fullscreenchange",e),W(document,"fullscreenerror",n),u},S=r=>{var[e,n]=u(!1),t=R(r,()=>n(!!document.fullscreenElement&&document.fullscreenElement===r.current));return[e,t,T(t,null,!0),T(t,null,!1)]},x=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return t(r=>{var{target:{files:n}}=r;return e.forEach(r=>null==r?void 0:r(n))},e)},C=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return t(r=>{var{target:{value:n}}=r;return e.forEach(r=>null==r?void 0:r(Number(n)))},e)},z=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return t(r=>{var{target:{value:n}}=r;return e.forEach(r=>null==r?void 0:r(String(n)))},e)},B=(r,n,t)=>{var u=o(n);e(()=>{if(r.current){var e=new IntersectionObserver((r,e)=>null==u.current?void 0:u.current(r,e),t);return e.observe(r.current),()=>e.disconnect()}},[u,r,t])},D=(r,e)=>{var{period:t,leading:u,running:l,deps:a=[t,u,l]}=e,i=o(r);n(()=>{var r;return l&&(u&&(null==i.current||i.current()),r=setInterval(()=>null==i.current?void 0:i.current(),t)),()=>{r&&clearInterval(r)}},a)},N=()=>{var e=r(!1);return O(()=>(e.current=!0,()=>{e.current=!1})),t(()=>e.current,[])},P={loading:!1},V={loading:!0},X=(r,e)=>function(t,l){void 0===l&&(l=P);var a=N(),[o,i]=u(l);return n(()=>{if(e(t)){var n=t.id&&document.querySelector(r+"#"+t.id)||document.createElement(r);Object.assign(n,t);var u=()=>{a()&&i(P)},l=r=>{a()&&i({loading:!1,error:r.error})};return n.addEventListener("load",u,!1),n.addEventListener("error",l,!1),i(V),document.body.appendChild(n),()=>{n.removeEventListener("load",u,!1),n.removeEventListener("error",l,!1)}}i(P)},[t,a]),o},Y=X("link",r=>{var{href:e}=r;return v()&&!!e&&!document.querySelector('link[href="'+e+'"]')}),G=r=>{return e=r,Object.fromEntries(["matches","media"].map(r=>[r,e[r]]));var e},J=function(r,e){void 0===e&&(e={media:"",matches:!1});var t="string"==typeof r?r:a(r),[l,o]=u(v()?()=>G(window.matchMedia(t)):e);return n(()=>{var r=window.matchMedia(t),e=r=>{o(r)};return o(G(r)),r.addListener(e),()=>r.removeListener(e)},[t]),l},K=(r,n,t)=>{var u=o(n);e(()=>{if(r.current){var e=new MutationObserver((r,e)=>null==u.current?void 0:u.current(r,e));return e.observe(r.current,t),()=>e.disconnect()}},[u,r,t])},Q=function(r){void 0===r&&(r=0);var[e,n]=u(r);return[e,n,C(n)]},U=(r,e)=>W(document,["mousedown","touchstart"],n=>{e&&r.current&&!r.current.contains(n.target)&&e(n)}),Z=e=>{var t=r();return n(()=>{t.current=e}),t.current},$=function(r,e,t){void 0===e&&(e=[]),void 0===t&&(t=P);var[l,a]=u(t);return n(()=>{var e=!1,n=r();if(n)return a(V),n.then(r=>{e||a({loading:!1,result:r})}).catch(r=>{e||a({loading:!1,error:r})}),()=>{e=!0};a(P)},e),l},_=function(r,e,n){void 0===e&&(e=[]),void 0===n&&(n=P);var l=N(),[a,o]=u(n),i=b();return[a,t(function(){var e=r(...arguments);i.set(e),e?(o(V),e.then(r=>{i.is(e)&&l()&&o({loading:!1,result:r})}).catch(r=>{i.is(e)&&l()&&o({loading:!1,error:r})})):o(P)},e)]},rr=(r,n)=>{var t=o(n);e(()=>{if(r.current){var e=new ResizeObserver(r=>null==t.current?void 0:t.current(r));return e.observe(r.current),()=>e.disconnect()}},[t,r])},er=(r,e)=>{var n,t=null,u=setInterval(()=>{t&&(n=r(...t),t=null)},e),l=function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return t=e,n};return l.cancel=()=>{clearInterval(u),t=null},l},nr=m(er),tr=w(er),ur=X("script",r=>{var{src:e}=r;return v()&&!!e&&!document.querySelector('script[src="'+e+'"]')}),lr=()=>{var[n,l]=u(),a=r(new Map),o=t(r=>e=>{a.current.set(e,r)},[]);return e(()=>{var r=new IntersectionObserver(r=>{var e=r.filter(r=>{var{intersectionRatio:e,target:n}=r;return 1===e&&a.current.has(n)}).reduce((r,e)=>r.boundingClientRect.top<e.boundingClientRect.top?r:e);l(a.current.get(e.target))});a.current.forEach((e,n)=>r.observe(n))},[]),[n,o]},ar=function(r){void 0===r&&(r="");var[e,n]=u(r);return[e,n,z(n)]},or=function(r,e,n){var t,{leading:u,trailing:l}=void 0===n?{leading:!0,trailing:!0}:n,a=null,o=null,i=function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a=i,null===o&&(u&&(t=r(...a),a=null),o=setTimeout(()=>{l&&null!==a&&(t=r(...a),a=null),o=null},e)),t};return i.cancel=()=>{null!==o&&clearTimeout(o),a=null,o=null},i},ir=m(or),cr=w(or),vr=function(r,e,t){void 0===t&&(t=[e]);var u=o(r);n(()=>{var r=setTimeout(()=>null==u.current?void 0:u.current(),e);return()=>clearTimeout(r)},t)},dr=(e,n)=>{var u=o(e),l=r();return I(()=>{l.current&&(clearTimeout(l.current.handle),l.current.resolve())}),t(()=>new Promise(r=>{l.current&&(clearTimeout(l.current.handle),l.current.resolve());var e=setTimeout(()=>{null==u.current||u.current(),r()},n);l.current={handle:e,resolve:r}}),[u,n])},sr=function(r){void 0===r&&(r=!1);var[e,n]=u(r);return[e,t(()=>n(r=>!r),[]),T(n,null,!0),T(n,null,!1),n]},fr=r=>O(()=>r),mr=function(r,e){return void 0===e&&(e=!0),W(window,"beforeunload",e=>(e.preventDefault(),r&&(e.returnValue=r),r),{enabled:e})},gr=()=>{var[r,e]=u(d);return W(window,"scroll",()=>e(d()),{capture:!1,passive:!0,usingAnimationFrame:!0}),r},hr=()=>{var[r,e]=u(s);return W(window,"resize",()=>e(s())),r},wr=function(e,n,l){void 0===l&&(l=P);var[a,o]=u(l),i=r(),c=t((r,t)=>{i.current&&i.current.terminate();var u=new Worker(e,n);u.addEventListener("message",r=>o({loading:!1,result:r.data})),u.addEventListener("error",r=>o({loading:!1,error:r.error})),u.postMessage(r,t),o(V),i.current=u},[n,e]);return fr(()=>{i.current&&i.current.terminate()}),[a,c]};export{i as useAnimationFrame,h as useAudit,p as useAuditValue,E as useCallbackWithCleanup,A as useCheckInput,b as useCurrent,T as useCurryFunction,L as useDebounce,q as useDebounceValue,I as useDidMount,j as useDidUpdate,O as useEffectOnce,W as useEvent,H as useForceUpdate,S as useFullscreen,y as useHandleChangeCheck,x as useHandleChangeFile,C as useHandleChangeNumber,z as useHandleChangeText,B as useIntersectionObserver,D as useInterval,N as useIsMounted,Y as useLink,J as useMediaQuery,K as useMutationObserver,Q as useNumberInput,U as useOnClickOutside,Z as usePrevious,$ as usePromise,_ as usePromiseCallback,rr as useResizeObserver,nr as useSample,tr as useSampleValue,ur as useScript,lr as useScrollSpy,ar as useTextInput,ir as useThrottle,cr as useThrottleValue,vr as useTimeout,dr as useTimeoutCallback,sr as useToggle,R as useToggleFullscreen,k as useTriggerUpdate,o as useUpdatedRef,fr as useWillUnmount,mr as useWindowBeforeUnload,gr as useWindowScrollOffset,hr as useWindowSize,wr as useWorkerCallback};
//# sourceMappingURL=index.modern.js.map
