import{useRef as r,useLayoutEffect as e,useEffect as n,useCallback as t,useState as u,useReducer as l}from"react";var o=(n,t)=>{var u=r(n);return e(()=>{u.current=n},t),u},a=function(r,e){void 0===e&&(e=[]);var t=o(r);n(()=>{var r=requestAnimationFrame(r=>null==t.current?void 0:t.current(r));return()=>cancelAnimationFrame(r)},e)},c=()=>({}),i=()=>"undefined"!=typeof window&&void 0!==window.document,v=()=>i()?{x:window.scrollX,y:window.scrollY}:{},d=()=>i()?{innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight}:{},s=r=>(r=>r instanceof Object&&r.nativeEvent instanceof Event)(r)&&r.persist(),f=e=>(u,l,a)=>{var c=o(u),i=r(e(u,l,a));return n(()=>(i.current=e(function(){return c.current(...arguments)},l,a),()=>{var r;return null==(r=i.current)?void 0:r.cancel()}),[c,a,l]),t(function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return e.forEach(s),i.current(...e)},[])},m=f((r,e)=>{var n,t=null,u=null,l=function(){for(var l=arguments.length,o=new Array(l),a=0;a<l;a++)o[a]=arguments[a];return u=o,null===t&&(t=setTimeout(()=>{null!==u&&(n=r(...u),u=null),t=null},e)),n};return l.cancel=()=>{null!==t&&clearTimeout(t),t=null,u=null},l}),g=function(e,n){void 0===n&&(n=[]);var u=o(e),l=r();return t(function(){l.current&&l.current();for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];l.current=null==u.current?void 0:u.current(...e)},n)},h=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return t(r=>{var{target:{checked:n}}=r;return e.forEach(r=>null==r?void 0:r(Boolean(n)))},e)},w=function(r){void 0===r&&(r=!1);var[e,n]=u(r);return[e,n,h(n)]},E=e=>{var n=r(e);return{set:r=>{n.current=r},get:()=>n.current,is:r=>n.current===r}},y=function(r,e){void 0===e&&(e=null);for(var n=arguments.length,u=new Array(n>2?n-2:0),l=2;l<n;l++)u[l-2]=arguments[l];return t(function(){for(var n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return null==r?void 0:r.apply(e,[...u,...t])},[r,...u])},p=f(function(r,e,n){var t,{leading:u,trailing:l}=void 0===n?{trailing:!0}:n,o=null,a=null,c=function(){for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return o=c,null!==a?clearTimeout(a):u&&(t=r(...o),o=null),a=setTimeout(()=>{l&&null!==o&&(t=r(...o),o=null),a=null},e),t};return c.cancel=()=>{null!==a&&clearTimeout(a),o=null,a=null},c}),A=r=>n(r,[]),b=r=>A(r),T=(e,t)=>{var u=r(!1);n(u.current?e:()=>{u.current=!0},t)},F=(r,e,n)=>{var t;r&&(!n||(t=e.target)instanceof Object&&"matches"in t&&e.target.matches(n))&&r(e)},L=function(e,t,u,l){var{capture:a,once:c,passive:i,selectors:v,usingAnimationFrame:d,enabled:s=!0}=void 0===l?{}:l,f=o(u),m=r(0);n(()=>{if(s){var r=(r=>r instanceof Function?r():r)(e);if(r){var n=r=>{d?(cancelAnimationFrame(m.current),m.current=requestAnimationFrame(()=>F(f.current,r,v))):F(f.current,r,v)},u=Array.isArray(t)?t:[t];return u.forEach(e=>r.addEventListener(e,n,{capture:a,once:c,passive:i})),()=>{d&&m.current&&cancelAnimationFrame(m.current),u.forEach(e=>r.removeEventListener(e,n,{capture:a}))}}}},[e,a,c,i,v,d,s,...t])},q=()=>l(c,{}),O=()=>q()[1],k=function(r,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var u=t(e=>{var n;!document.fullscreenElement||!1!==e&&void 0!==e||document.exitFullscreen(),document.fullscreenElement||!0!==e&&void 0!==e||null==(n=r.current)||null==n.requestFullscreen||n.requestFullscreen()},[r]);return L(document,"fullscreenchange",e),L(document,"fullscreenerror",n),u},I=r=>{var[e,n]=u(!1),t=k(r,()=>n(!!document.fullscreenElement&&document.fullscreenElement===r.current));return[e,t,y(t,null,!0),y(t,null,!1)]},W=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return t(r=>{var{target:{files:n}}=r;return e.forEach(r=>null==r?void 0:r(n))},e)},H=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return t(r=>{var{target:{value:n}}=r;return e.forEach(r=>null==r?void 0:r(Number(n)))},e)},S=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return t(r=>{var{target:{value:n}}=r;return e.forEach(r=>null==r?void 0:r(String(n)))},e)},j=(r,n,t)=>{var u=o(n);e(()=>{if(r.current){var e=new IntersectionObserver((r,e)=>null==u.current?void 0:u.current(r,e),t);return e.observe(r.current),()=>e.disconnect()}},[u,r,t])},x=(r,e)=>{var{period:t,leading:u,running:l,deps:a=[t,u,l]}=e,c=o(r);n(()=>{var r;return l&&(u&&(null==c.current||c.current()),r=setInterval(()=>null==c.current?void 0:c.current(),t)),()=>{r&&clearInterval(r)}},a)},z=()=>{var e=r(!1);return A(()=>(e.current=!0,()=>{e.current=!1})),t(()=>e.current,[])},M={loading:!1},B={loading:!0},C=(r,e)=>function(t,l){void 0===l&&(l=M);var o=z(),[a,c]=u(l);return n(()=>{if(e(t)){var n=t.id&&document.querySelector(r+"#"+t.id)||document.createElement(r);Object.keys(t).forEach(r=>{n[r]=t[r]});var u=()=>{o()&&c(M)},l=r=>{o()&&c({loading:!1,error:r.error})};return n.addEventListener("load",u,!1),n.addEventListener("error",l,!1),c(B),document.body.appendChild(n),()=>{n.removeEventListener("load",u,!1),n.removeEventListener("error",l,!1)}}c(M)},[t,o]),a},D=C("link",r=>{var{href:e}=r;return i()&&!!e&&!document.querySelector('link[href="'+e+'"]')}),N=(r,n,t)=>{var u=o(n);e(()=>{if(r.current){var e=new MutationObserver((r,e)=>null==u.current?void 0:u.current(r,e));return e.observe(r.current,t),()=>e.disconnect()}},[u,r,t])},P=function(r){void 0===r&&(r=0);var[e,n]=u(r);return[e,n,H(n)]},R=(r,e)=>L(document,["mousedown","touchstart"],n=>{e&&r.current&&!r.current.contains(n.target)&&e(n)}),V=e=>{var t=r();return n(()=>{t.current=e}),t.current},X=function(r,e,t){void 0===e&&(e=[]),void 0===t&&(t=M);var[l,o]=u(t);return n(()=>{var e=!1,n=r();if(n)return o(B),n.then(r=>{e||o({loading:!1,result:r})}).catch(r=>{e||o({loading:!1,error:r})}),()=>{e=!0};o(M)},e),l},Y=function(r,e,n){void 0===e&&(e=[]),void 0===n&&(n=M);var l=z(),[o,a]=u(n),c=E();return[o,t(function(){var e=r(...arguments);c.set(e),e?(a(B),e.then(r=>{c.is(e)&&l()&&a({loading:!1,result:r})}).catch(r=>{c.is(e)&&l()&&a({loading:!1,error:r})})):a(M)},e)]},G=(r,n)=>{var t=o(n);e(()=>{if(r.current){var e=new ResizeObserver(r=>null==t.current?void 0:t.current(r));return e.observe(r.current),()=>e.disconnect()}},[t,r])},J=f((r,e)=>{var n,t=null,u=setInterval(()=>{t&&(n=r(...t),t=null)},e),l=function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return t=e,n};return l.cancel=()=>{clearInterval(u),t=null},l}),K=C("script",r=>{var{src:e}=r;return i()&&!!e&&!document.querySelector('script=[src="'+e+'"]')}),Q=function(r){void 0===r&&(r="");var[e,n]=u(r);return[e,n,S(n)]},U=f(function(r,e,n){var t,{leading:u,trailing:l}=void 0===n?{leading:!0,trailing:!0}:n,o=null,a=null,c=function(){for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return o=c,null===a&&(u&&(t=r(...o),o=null),a=setTimeout(()=>{l&&null!==o&&(t=r(...o),o=null),a=null},e)),t};return c.cancel=()=>{null!==a&&clearTimeout(a),o=null,a=null},c}),Z=function(r,e,t){void 0===t&&(t=[e]);var u=o(r);n(()=>{var r=setTimeout(()=>null==u.current?void 0:u.current(),e);return()=>clearTimeout(r)},t)},$=(e,n)=>{var u=o(e),l=r();return b(()=>{l.current&&(clearTimeout(l.current.handle),l.current.resolve())}),t(()=>new Promise(r=>{l.current&&(clearTimeout(l.current.handle),l.current.resolve());var e=setTimeout(()=>{null==u.current||u.current(),r()},n);l.current={handle:e,resolve:r}}),[u,n])},_=function(r){void 0===r&&(r=!1);var[e,n]=u(r);return[e,t(()=>n(r=>!r),[]),y(n,null,!0),y(n,null,!1),n]},rr=r=>A(()=>r),er=function(r,e){return void 0===e&&(e=!0),L(window,"beforeunload",e=>(e.preventDefault(),r&&(e.returnValue=r),r),{enabled:e})},nr=()=>{var[r,e]=u(v);return L(window,"scroll",()=>e(v()),{capture:!1,passive:!0,usingAnimationFrame:!0}),r},tr=()=>{var[r,e]=u(d);return L(window,"resize",()=>e(d())),r},ur=function(e,n,l){void 0===l&&(l=M);var[o,a]=u(l),c=r(),i=t((r,t)=>{c.current&&c.current.terminate();var u=new Worker(e,n);u.addEventListener("message",r=>a({loading:!1,result:r.data})),u.addEventListener("error",r=>a({loading:!1,error:r.error})),u.postMessage(r,t),a(B),c.current=u},[n,e]);return rr(()=>{c.current&&c.current.terminate()}),[o,i]};export{a as useAnimationFrame,m as useAudit,g as useCallbackWithCleanup,w as useCheckInput,E as useCurrent,y as useCurryFunction,p as useDebounce,b as useDidMount,T as useDidUpdate,A as useEffectOnce,L as useEvent,O as useForceUpdate,I as useFullscreen,h as useHandleChangeCheck,W as useHandleChangeFile,H as useHandleChangeNumber,S as useHandleChangeText,j as useIntersectionObserver,x as useInterval,z as useIsMounted,D as useLink,N as useMutationObserver,P as useNumberInput,R as useOnClickOutside,V as usePrevious,X as usePromise,Y as usePromiseCallback,G as useResizeObserver,J as useSample,K as useScript,Q as useTextInput,U as useThrottle,Z as useTimeout,$ as useTimeoutCallback,_ as useToggle,k as useToggleFullscreen,q as useTriggerUpdate,o as useUpdatedRef,rr as useWillUnmount,er as useWindowBeforeUnload,nr as useWindowScrollOffset,tr as useWindowSize,ur as useWorkerCallback};
//# sourceMappingURL=index.modern.js.map
