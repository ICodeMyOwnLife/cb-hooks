!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((n=n||self).cbHooks={},n.react)}(this,function(n,e){var t=function(n,t){var r=e.useRef(n);return e.useLayoutEffect(function(){r.current=n},t),r},r=function(n,e,t){var r;n&&(!t||(r=e.target)instanceof Object&&"matches"in r&&e.target.matches(t))&&n(e)},u=function(n,u,o,c){var i=void 0===c?{}:c,a=i.capture,f=i.once,l=i.passive,s=i.selectors,v=i.usingAnimationFrame,d=i.enabled,p=void 0===d||d,m=t(o),y=e.useRef(0);e.useEffect(function(){if(p){var e=function(n){return n instanceof Function?n():n}(n);if(e){var t=function(n){v?(cancelAnimationFrame(y.current),y.current=requestAnimationFrame(function(){return r(m.current,n,s)})):r(m.current,n,s)},o=Array.isArray(u)?u:[u];return o.forEach(function(n){return e.addEventListener(n,t,{capture:a,once:f,passive:l})}),function(){v&&y.current&&cancelAnimationFrame(y.current),o.forEach(function(n){return e.removeEventListener(n,t,{capture:a})})}}}},[n,a,f,l,s,v,p].concat(u))},o=function(n,e){return void 0===e&&(e=!0),u(window,"beforeunload",function(e){return e.preventDefault(),n&&(e.returnValue=n),n},{enabled:e})},c=function(n){return function(r){var u=t(r);e.useEffect(function(){var e=n.block(function(n,e){return null==u.current?void 0:u.current(n,e)});return function(){return e()}},[u])}};function i(){return(i=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function a(n){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function f(n,e){return(f=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function s(n,e,t){return(s=l()?Reflect.construct:function(n,e,t){var r=[null];r.push.apply(r,e);var u=new(Function.bind.apply(n,r));return t&&f(u,t.prototype),u}).apply(null,arguments)}function v(n){var e="function"==typeof Map?new Map:void 0;return(v=function(n){if(null===n||-1===Function.toString.call(n).indexOf("[native code]"))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(n))return e.get(n);e.set(n,t)}function t(){return s(n,arguments,a(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),f(t,n)})(n)}function d(n,e){if(null==n)return{};var t,r,u={},o=Object.keys(n);for(r=0;r<o.length;r++)e.indexOf(t=o[r])>=0||(u[t]=n[t]);return u}var p={loading:!1},m={loading:!0},y=function(n,t,r,u){void 0===t&&(t=[]),void 0===r&&(r=p);var o=e.useState(r),c=o[0],i=o[1];return e.useEffect(function(){var e=!1,t=n();if(t)return i(m),t.then(function(n){e||i({loading:!1,result:n})}).catch(function(n){e||i({loading:!1,error:n})}),function(){e=!0,null==u||u()};i(p)},t),c},h=function(n){var e,t;function r(e,t){var r;return(r=n.call(this,e||"Fetch Error")||this).status=t,r}return t=n,(e=r).prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t,r}(v(Error)),g=function(n,t){return function(r,u,o,c){var a=e.useRef();return y(function(){try{var e=new AbortController;return a.current=e,Promise.resolve(n(r,i({},u,{signal:e.signal}))).then(function(n){var e=!1;function r(t){if(e)return t;throw new h(n.statusText,n.status)}var u=function(){if(n.ok)return Promise.resolve(t(n)).then(function(n){return e=!0,n})}();return u&&u.then?u.then(r):r(u)})}catch(n){return Promise.reject(n)}},o,c,function(){var n;return null==(n=a.current)?void 0:n.abort()})}},b=function(){return{}},w=function(){return"undefined"!=typeof window&&void 0!==window.document},E=function(){return w()?{x:window.scrollX,y:window.scrollY}:{}},k=function(){return w()?{innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight}:{}},S=function(n){return function(n){return n instanceof Object&&n.nativeEvent instanceof Event}(n)&&n.persist()},C=function(n){return function(r,u,o){var c=t(r),i=e.useRef(n(r,u,o));return e.useEffect(function(){return i.current=n(function(){return c.current.apply(c,arguments)},u,o),function(){var n;return null==(n=i.current)?void 0:n.cancel()}},[c,o,u]),e.useCallback(function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.forEach(S),i.current.apply(i,e)},[])}},O=function(n){return function(r,u,o,c){var i=e.useState(),a=i[0],f=i[1],l=t(r),s=e.useRef(n(r,o,c));return e.useEffect(function(){return s.current=n(function(){var n=l.current.apply(l,arguments);return f(n),n},o,c),function(){var n;return null==(n=s.current)?void 0:n.cancel()}},[l,c,o]),e.useEffect(function(){s.current.apply(s,u)},u),a}},A=function(n){return e.useEffect(n,[])},R=function(){var n=e.useRef(!1);return A(function(){return n.current=!0,function(){n.current=!1}}),e.useCallback(function(){return n.current},[])},F=function(n,t,r){return function(u,o){void 0===o&&(o=p);var c=R(),i=e.useState(o),a=i[0],f=i[1];return e.useEffect(function(){if(t(u)){var e=u.id&&document.querySelector(n+"#"+u.id)||document.createElement(n);Object.assign(e,u);var o=function(){c()&&f(p)},i=function(n){c()&&f({loading:!1,error:n.error})};return e.addEventListener("load",o,!1),e.addEventListener("error",i,!1),f(m),r(e),function(){e.removeEventListener("load",o,!1),e.removeEventListener("error",i,!1)}}f(p)},[u,c]),a}},T=function(n,e){switch(e.type){case"append":return[].concat(n,[e.payload]);case"prepend":return[e.payload].concat(n);case"filter":return n.filter(e.payload);default:return n}},L=function(n,e){var t,r=null,u=null,o=function(){for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return u=c,null===r&&(r=setTimeout(function(){null!==u&&(t=n.apply(void 0,u),u=null),r=null},e)),t};return o.cancel=function(){null!==r&&clearTimeout(r),r=null,u=null},o},I=C(L),P=O(L),H=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e.useCallback(function(n){var e=n.target.checked;return t.forEach(function(n){return null==n?void 0:n(Boolean(e))})},t)},j=function(n){var t=e.useRef(n);return{set:function(n){t.current=n},get:function(){return t.current},is:function(n){return t.current===n}}},x=function(n,t){void 0===t&&(t=null);for(var r=arguments.length,u=new Array(r>2?r-2:0),o=2;o<r;o++)u[o-2]=arguments[o];return e.useCallback(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return null==n?void 0:n.apply(t,[].concat(u,r))},[n].concat(u))},M=function(n,e,t){var r,u=void 0===t?{trailing:!0}:t,o=u.leading,c=u.trailing,i=null,a=null,f=function(){for(var t=arguments.length,u=new Array(t),f=0;f<t;f++)u[f]=arguments[f];return i=u,null!==a?clearTimeout(a):o&&(r=n.apply(void 0,i),i=null),a=setTimeout(function(){c&&null!==i&&(r=n.apply(void 0,i),i=null),a=null},e),r};return f.cancel=function(){null!==a&&clearTimeout(a),i=null,a=null},f},_=C(M),W=O(M),q=function(n){return A(n)},B=function(n,r,u){void 0===u&&(u=[]);var o=t(r);e.useEffect(function(){var e=o.current,t=("function"==typeof e?e():document.querySelector(e))||document.createElement("link");t instanceof HTMLLinkElement&&(Object.assign(t,n),document.head.appendChild(t))},u)},D=g(fetch,function(n){return n.json()}),U=g(fetch,function(n){return n.arrayBuffer()}),V=g(fetch,function(n){return n.blob()}),z=g(fetch,function(n){return n.formData()}),N=g(fetch,function(n){return Promise.resolve(n.body)}),Q=g(fetch,function(n){return n.text()}),X=function(){return e.useReducer(b,{})},Y=function(n,t,r){void 0===t&&(t=null),void 0===r&&(r=null);var o=e.useCallback(function(e){var t;!document.fullscreenElement||!1!==e&&void 0!==e||document.exitFullscreen(),document.fullscreenElement||!0!==e&&void 0!==e||null==(t=n.current)||null==t.requestFullscreen||t.requestFullscreen()},[n]);return u(document,"fullscreenchange",t),u(document,"fullscreenerror",r),o},G=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e.useCallback(function(n){var e=n.target.value;return t.forEach(function(n){return null==n?void 0:n(Number(e))})},t)},J=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e.useCallback(function(n){var e=n.target.value;return t.forEach(function(n){return null==n?void 0:n(String(e))})},t)};function K(n,e){try{var t=n()}catch(n){return e(n)}return t&&t.then?t.then(void 0,e):t}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var Z=function(n,r,u,o){void 0===o&&(o=[]);var c=t(r);e.useLayoutEffect(function(){var e=n();if(e&&e.length){var t=new IntersectionObserver(function(n,e){return null==c.current?void 0:c.current(n,e)},u);return e.forEach(function(n){return t.observe(n)}),function(){return t.disconnect()}}},o)},$=function(n){return n instanceof Object},nn=function(n){return n.dataset.src},en=F("link",function(n){var e=n.href;return w()&&!!e&&!document.querySelector('link[href="'+e+'"]')},function(n){return document.head.appendChild(n)}),tn=function(n){return function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Object.fromEntries(t.map(function(e){return[e,n[e]]}))}(n,"matches","media")},rn=function(n){return u(document,"visibilitychange",function(){return null==n?void 0:n(document.visibilityState)})},un=function(n,e){var t,r=null,u=setInterval(function(){r&&(t=n.apply(void 0,r),r=null)},e),o=function(){for(var n=arguments.length,e=new Array(n),u=0;u<n;u++)e[u]=arguments[u];return r=e,t};return o.cancel=function(){clearInterval(u),r=null},o},on=C(un),cn=O(un),an=F("script",function(n){var e=n.src;return w()&&!!e&&!document.querySelector('script[src="'+e+'"]')},function(n){return document.body.appendChild(n)}),fn=function(n){return null==n?void 0:n.getAttribute("id")},ln=function(n,e,t){var r,u=void 0===t?{leading:!0,trailing:!0}:t,o=u.leading,c=u.trailing,i=null,a=null,f=function(){for(var t=arguments.length,u=new Array(t),f=0;f<t;f++)u[f]=arguments[f];return i=u,null===a&&(o&&(r=n.apply(void 0,i),i=null),a=setTimeout(function(){c&&null!==i&&(r=n.apply(void 0,i),i=null),a=null},e)),r};return f.cancel=function(){null!==a&&clearTimeout(a),i=null,a=null},f},sn=C(ln),vn=O(ln),dn=function(n){return A(function(){return n})};n.createBeforeLeaveHook=function(n){return function(e,t){void 0===e&&(e=!0),c(n)(function(){return e?t||!1:void 0}),o(t,e)}},n.createFetchHook=g,n.createHistoryBlockHook=c,n.createHistoryListenHook=function(n){return function(r){var u=t(r);e.useEffect(function(){var e=n.listen(function(n,e){return null==u.current?void 0:u.current(n,e)});return function(){return e()}},[u])}},n.createRateLimitHook=C,n.createRateLimitValueHook=O,n.createResourceHook=F,n.createSearchParamsObjectHook=function(n){return function(){return function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=s(URLSearchParams,e);return Object.fromEntries(r)}(e.useContext(n).location.search)}},n.useAnimationFrame=function(n,r){void 0===r&&(r=[]);var u=t(n);e.useEffect(function(){var n=requestAnimationFrame(function(n){return null==u.current?void 0:u.current(n)});return function(){return cancelAnimationFrame(n)}},r)},n.useArray=function(n){void 0===n&&(n=[]);var t=e.useReducer(T,n),r=t[1];return[t[0],e.useCallback(function(n){return r({type:"append",payload:n})},[r]),e.useCallback(function(n){return r({type:"prepend",payload:n})},[r]),e.useCallback(function(n){return r({type:"filter",payload:n})},[r])]},n.useAudit=I,n.useAuditValue=P,n.useCallbackWithCleanup=function(n,r){void 0===r&&(r=[]);var u=t(n),o=e.useRef();return e.useCallback(function(){o.current&&o.current();for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];o.current=null==u.current?void 0:u.current.apply(u,e)},r)},n.useCheckInput=function(n){void 0===n&&(n=!1);var t=e.useState(n),r=t[1];return[t[0],r,H(r)]},n.useCurrent=j,n.useCurryFunction=x,n.useDebounce=_,n.useDebounceValue=W,n.useDidMount=q,n.useDidUpdate=function(n,t){var r=e.useRef(!1);e.useEffect(r.current?n:function(){r.current=!0},t)},n.useEffectOnce=A,n.useEvent=u,n.useFavicon=function(n){return B({href:n,rel:"shortcut icon",type:"image/x-icon"},"link[rel='shortcut icon']",[n])},n.useFetch=D,n.useFetchArrayBuffer=U,n.useFetchBlob=V,n.useFetchFormData=z,n.useFetchStream=N,n.useFetchText=Q,n.useForceUpdate=function(){return X()[1]},n.useFullscreen=function(n){var t=e.useState(!1),r=t[0],u=t[1],o=Y(n,function(){return u(!!document.fullscreenElement&&document.fullscreenElement===n.current)});return[r,o,x(o,null,!0),x(o,null,!1)]},n.useHandleChangeCheck=H,n.useHandleChangeFile=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e.useCallback(function(n){var e=n.target.files;return t.forEach(function(n){return null==n?void 0:n(e)})},t)},n.useHandleChangeNumber=G,n.useHandleChangeText=J,n.useInfiniteScroll=function(n,t){var r=e.useRef(!1),u="boolean"==typeof(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:void 0,o=$(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:$(arguments.length<=3?void 0:arguments[3])?arguments.length<=3?void 0:arguments[3]:void 0;Z(function(){return n.current&&[n.current]},function(n){try{var e=function(){r.current=!1};if(u||r.current||n.every(function(n){return!n.isIntersecting}))return Promise.resolve();r.current=!0;var o=K(function(){return Promise.resolve(Promise.resolve(t())).then(function(){})},function(){});return Promise.resolve(o&&o.then?o.then(e):e())}catch(n){return Promise.reject(n)}},o)},n.useIntersectionObserver=function(n,e,t){return Z(function(){return n.current&&[n.current]},e,t,[t])},n.useIntersectionObserverEffect=Z,n.useInterval=function(n,r){var u=r.period,o=r.leading,c=r.running,i=r.deps,a=void 0===i?[u,o,c]:i,f=t(n);e.useEffect(function(){var n;return c&&(o&&(null==f.current||f.current()),n=setInterval(function(){return null==f.current?void 0:f.current()},u)),function(){n&&clearInterval(n)}},a)},n.useIsMounted=R,n.useLazyLoad=function(n){var t=void 0===n?{}:n,r=t.getSrc,u=void 0===r?nn:r,o=d(t,["getSrc"]),c=e.useRef(new Map),i=e.useCallback(function(n){if("string"==typeof n){var e=n;return function(n){c.current.set(n,e)}}if(n instanceof HTMLImageElement){var t=n,r=u(t);r&&c.current.set(t,r)}},[u]);return Z(function(){return Array.from(c.current.keys())},function(n,e){return n.forEach(function(n){var t=n.target;if(n.isIntersecting&&t instanceof HTMLImageElement){var r=c.current.get(t)||u(t);r&&(t.src=r),e.unobserve(t)}})},o),i},n.useLink=en,n.useMediaQuery=function(n,t){void 0===t&&(t={media:"",matches:!1});var r=e.useState(w()?function(){return tn(window.matchMedia(n))}:t),u=r[0],o=r[1];return e.useEffect(function(){var e=window.matchMedia(n),t=function(n){o(n)};return o(tn(e)),e.addListener(t),function(){return e.removeListener(t)}},[n]),u},n.useMutationObserver=function(n,r,u){var o=t(r);e.useLayoutEffect(function(){if(n.current){var e=new MutationObserver(function(n,e){return null==o.current?void 0:o.current(n,e)});return e.observe(n.current,u),function(){return e.disconnect()}}},[o,n,u])},n.useNumberInput=function(n){void 0===n&&(n=0);var t=e.useState(n),r=t[1];return[t[0],r,G(r)]},n.useOnClickOutside=function(n,e){return u(document,["mousedown","touchstart"],function(t){e&&n.current&&!n.current.contains(t.target)&&e(t)})},n.usePageVisibility=rn,n.usePageVisibilityState=function(){var n=e.useState(document.visibilityState),t=n[0];return rn(n[1]),t},n.usePrevious=function(n){var t=e.useRef();return e.useEffect(function(){t.current=n}),t.current},n.usePromise=y,n.usePromiseCallback=function(n,t,r){void 0===t&&(t=[]),void 0===r&&(r=p);var u=R(),o=e.useState(r),c=o[0],i=o[1],a=j();return[c,e.useCallback(function(){var e=n.apply(void 0,arguments);a.set(e),e?(i(m),e.then(function(n){a.is(e)&&u()&&i({loading:!1,result:n})}).catch(function(n){a.is(e)&&u()&&i({loading:!1,error:n})})):i(p)},t)]},n.useResizeObserver=function(n,r){var u=t(r);e.useLayoutEffect(function(){if(n.current){var e=new ResizeObserver(function(n){return null==u.current?void 0:u.current(n)});return e.observe(n.current),function(){return e.disconnect()}}},[u,n])},n.useSample=on,n.useSampleValue=cn,n.useScript=an,n.useScrollSpy=function(n){var t=void 0===n?{threshold:1}:n,r=t.getId,u=void 0===r?fn:r,o=d(t,["getId"]),c=e.useState(),i=c[0],a=c[1],f=e.useRef(new Map),l=e.useRef(new Set),s=e.useCallback(function(n){if("string"==typeof n){var e=n;return function(n){f.current.set(n,e)}}if(n instanceof Element){var t=n,r=u(t);r&&f.current.set(t,r)}},[u]);return Z(function(){return Array.from(f.current.keys())},function(n){if(n.forEach(function(n){var e=n.target;n.isIntersecting?l.current.add(e):l.current.delete(e)}),l.current.size){var e=Array.from(l.current).reduce(function(n,e){return n.getBoundingClientRect().top<e.getBoundingClientRect().top?n:e}),t=f.current.get(e)||u(e);"string"==typeof t&&a(t)}},o),[i,s]},n.useTextInput=function(n){void 0===n&&(n="");var t=e.useState(n),r=t[1];return[t[0],r,J(r)]},n.useThrottle=sn,n.useThrottleValue=vn,n.useTimeout=function(n,r,u){void 0===u&&(u=[r]);var o=t(n);e.useEffect(function(){var n=setTimeout(function(){return null==o.current?void 0:o.current()},r);return function(){return clearTimeout(n)}},u)},n.useTimeoutCallback=function(n,r){var u=t(n),o=e.useRef();return q(function(){o.current&&(clearTimeout(o.current.handle),o.current.resolve())}),e.useCallback(function(){return new Promise(function(n){o.current&&(clearTimeout(o.current.handle),o.current.resolve());var e=setTimeout(function(){null==u.current||u.current(),n()},r);o.current={handle:e,resolve:n}})},[u,r])},n.useTitle=function(n,t){var r=e.useRef(document.title);e.useEffect(function(){document.title=n},[n]),dn(function(){(null==t?void 0:t.restoreOnUnmount)&&(document.title=r.current)})},n.useToggle=function(n){void 0===n&&(n=!1);var t=e.useState(n),r=t[1];return[t[0],e.useCallback(function(){return r(function(n){return!n})},[]),x(r,null,!0),x(r,null,!1),r]},n.useToggleFullscreen=Y,n.useTriggerUpdate=X,n.useUpdatedLink=B,n.useUpdatedRef=t,n.useWillUnmount=dn,n.useWindowBeforeUnload=o,n.useWindowScrollOffset=function(){var n=e.useState(E),t=n[0],r=n[1];return u(window,"scroll",function(){return r(E())},{capture:!1,passive:!0,usingAnimationFrame:!0}),t},n.useWindowSize=function(){var n=e.useState(k),t=n[0],r=n[1];return u(window,"resize",function(){return r(k())}),t},n.useWorkerCallback=function(n,t,r){void 0===r&&(r=p);var u=e.useState(r),o=u[0],c=u[1],i=e.useRef(),a=e.useCallback(function(e,r){i.current&&i.current.terminate();var u=new Worker(n,t);u.addEventListener("message",function(n){return c({loading:!1,result:n.data})}),u.addEventListener("error",function(n){return c({loading:!1,error:n.error})}),u.postMessage(e,r),c(m),i.current=u},[t,n]);return dn(function(){i.current&&i.current.terminate()}),[o,a]}});
//# sourceMappingURL=index.umd.js.map
