import{useRef as n,useLayoutEffect as r,useEffect as t,useReducer as e,useCallback as u,useState as o}from"react";import i from"json2mq";var c=function(t,e){var u=n(t);return r(function(){u.current=t},e),u},a=function(n,r){void 0===r&&(r=[]);var e=c(n);t(function(){var n=requestAnimationFrame(function(n){return null==e.current?void 0:e.current(n)});return function(){return cancelAnimationFrame(n)}},r)},f=function(n,r){switch(r.type){case"append":return[].concat(n,[r.payload]);case"prepend":return[r.payload].concat(n);case"filter":return n.filter(r.payload);default:return n}},l=function(n){void 0===n&&(n=[]);var r=e(f,n),t=r[1];return[r[0],u(function(n){return t({type:"append",payload:n})},[t]),u(function(n){return t({type:"prepend",payload:n})},[t]),u(function(n){return t({type:"filter",payload:n})},[t])]},v=function(){return{}},d=function(){return"undefined"!=typeof window&&void 0!==window.document},s=function(){return d()?{x:window.scrollX,y:window.scrollY}:{}},p=function(){return d()?{innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight}:{}},m=function(n){return function(n){return n instanceof Object&&n.nativeEvent instanceof Event}(n)&&n.persist()},y=function(r){return function(e,o,i){var a=c(e),f=n(r(e,o,i));return t(function(){return f.current=r(function(){return a.current.apply(a,arguments)},o,i),function(){var n;return null==(n=f.current)?void 0:n.cancel()}},[a,i,o]),u(function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return r.forEach(m),f.current.apply(f,r)},[])}},h=function(n,r){var t,e=null,u=null,o=function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return u=i,null===e&&(e=setTimeout(function(){null!==u&&(t=n.apply(void 0,u),u=null),e=null},r)),t};return o.cancel=function(){null!==e&&clearTimeout(e),e=null,u=null},o},g=y(h),w=function(r){return function(e,u,i,a){var f=o(),l=f[0],v=f[1],d=c(e),s=n(r(e,i,a));return t(function(){return s.current=r(function(){var n=d.current.apply(d,arguments);return v(n),n},i,a),function(){var n;return null==(n=s.current)?void 0:n.cancel()}},[d,a,i]),t(function(){s.current.apply(s,u)},u),l}},b=w(h),E=function(n,r,t){var e;n&&(!t||(e=r.target)instanceof Object&&"matches"in e&&r.target.matches(t))&&n(r)},A=function(r,e,u,o){var i=void 0===o?{}:o,a=i.capture,f=i.once,l=i.passive,v=i.selectors,d=i.usingAnimationFrame,s=i.enabled,p=void 0===s||s,m=c(u),y=n(0);t(function(){if(p){var n=function(n){return n instanceof Function?n():n}(r);if(n){var t=function(n){d?(cancelAnimationFrame(y.current),y.current=requestAnimationFrame(function(){return E(m.current,n,v)})):E(m.current,n,v)},u=Array.isArray(e)?e:[e];return u.forEach(function(r){return n.addEventListener(r,t,{capture:a,once:f,passive:l})}),function(){d&&y.current&&cancelAnimationFrame(y.current),u.forEach(function(r){return n.removeEventListener(r,t,{capture:a})})}}}},[r,a,f,l,v,d,p].concat(e))},O=function(n,r){return void 0===n&&(n=!0),void 0===r&&(r=""),A(window,"beforeunload",function(t){if("function"==typeof n?n():n)return t.preventDefault(),t.returnValue=r,r})},S=function(r,t){void 0===t&&(t=[]);var e=c(r),o=n();return u(function(){o.current&&o.current();for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];o.current=null==e.current?void 0:e.current.apply(e,r)},t)},j=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return u(function(n){var t=n.target.checked;return r.forEach(function(n){return null==n?void 0:n(Boolean(t))})},r)},T=function(n){void 0===n&&(n=!1);var r=o(n),t=r[1];return[r[0],t,j(t)]},P=function(r){var t=n(r);return{set:function(n){t.current=n},get:function(){return t.current},is:function(n){return t.current===n}}},I=function(n,r){void 0===r&&(r=null);for(var t=arguments.length,e=new Array(t>2?t-2:0),o=2;o<t;o++)e[o-2]=arguments[o];return u(function(){for(var t=arguments.length,u=new Array(t),o=0;o<t;o++)u[o]=arguments[o];return null==n?void 0:n.apply(r,[].concat(e,u))},[n].concat(e))},F=function(n,r,t){var e,u=void 0===t?{trailing:!0}:t,o=u.leading,i=u.trailing,c=null,a=null,f=function(){for(var t=arguments.length,u=new Array(t),f=0;f<t;f++)u[f]=arguments[f];return c=u,null!==a?clearTimeout(a):o&&(e=n.apply(void 0,c),c=null),a=setTimeout(function(){i&&null!==c&&(e=n.apply(void 0,c),c=null),a=null},r),e};return f.cancel=function(){null!==a&&clearTimeout(a),c=null,a=null},f},L=y(F),_=w(F),k=function(n){return t(n,[])},M=function(n){return k(n)},x=function(r,e){var u=n(!1);t(u.current?r:function(){u.current=!0},e)},q=function(n,r,e){void 0===e&&(e=[]);var u=c(r);t(function(){var r=u.current,t=("function"==typeof r?r():document.querySelector(r))||document.createElement("link");t instanceof HTMLLinkElement&&(Object.assign(t,n),document.head.appendChild(t))},e)},R=function(n){return q({href:n,rel:"shortcut icon",type:"image/x-icon"},"link[rel='shortcut icon']",[n])};function H(){return(H=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n}).apply(this,arguments)}function C(n){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function D(n,r){return(D=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(n,r)}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function B(n,r,t){return(B=W()?Reflect.construct:function(n,r,t){var e=[null];e.push.apply(e,r);var u=new(Function.bind.apply(n,e));return t&&D(u,t.prototype),u}).apply(null,arguments)}function z(n){var r="function"==typeof Map?new Map:void 0;return(z=function(n){if(null===n||-1===Function.toString.call(n).indexOf("[native code]"))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,t)}function t(){return B(n,arguments,C(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),D(t,n)})(n)}function V(n,r){if(null==n)return{};var t,e,u={},o=Object.keys(n);for(e=0;e<o.length;e++)r.indexOf(t=o[e])>=0||(u[t]=n[t]);return u}var N={loading:!1},U={loading:!0},X=function(n,r,e,u){void 0===r&&(r=[]),void 0===e&&(e=N);var i=o(e),c=i[0],a=i[1];return t(function(){var r=!1,t=n();if(t)return a(U),t.then(function(n){r||a({loading:!1,result:n})}).catch(function(n){r||a({loading:!1,error:n})}),function(){r=!0,null==u||u()};a(N)},r),c},Y=function(n){var r,t;function e(r,t){var e;return(e=n.call(this,r||"Fetch Error")||this).status=t,e}return t=n,(r=e).prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t,e}(z(Error)),G=function(r,t){return function(e,u,o,i){var c=n();return X(function(){try{var n=new AbortController;return c.current=n,Promise.resolve(r(e,H({},u,{signal:n.signal}))).then(function(n){var r=!1;function e(t){if(r)return t;throw new Y(n.statusText,n.status)}var u=function(){if(n.ok)return Promise.resolve(t(n)).then(function(n){return r=!0,n})}();return u&&u.then?u.then(e):e(u)})}catch(n){return Promise.reject(n)}},o,i,function(){var n;return null==(n=c.current)?void 0:n.abort()})}},J=G(fetch,function(n){return n.json()}),K=G(fetch,function(n){return n.arrayBuffer()}),Q=G(fetch,function(n){return n.blob()}),Z=G(fetch,function(n){return n.formData()}),$=G(fetch,function(n){return Promise.resolve(n.body)}),nn=G(fetch,function(n){return n.text()}),rn=function(){return e(v,{})},tn=function(){return rn()[1]},en=function(n,r,t){void 0===r&&(r=null),void 0===t&&(t=null);var e=u(function(r){var t;!document.fullscreenElement||!1!==r&&void 0!==r||document.exitFullscreen(),document.fullscreenElement||!0!==r&&void 0!==r||null==(t=n.current)||null==t.requestFullscreen||t.requestFullscreen()},[n]);return A(document,"fullscreenchange",r),A(document,"fullscreenerror",t),e},un=function(n){var r=o(!1),t=r[0],e=r[1],u=en(n,function(){return e(!!document.fullscreenElement&&document.fullscreenElement===n.current)});return[t,u,I(u,null,!0),I(u,null,!1)]},on=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return u(function(n){var t=n.target.files;return r.forEach(function(n){return null==n?void 0:n(t)})},r)},cn=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return u(function(n){var t=n.target.value;return r.forEach(function(n){return null==n?void 0:n(Number(t))})},r)},an=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return u(function(n){var t=n.target.value;return r.forEach(function(n){return null==n?void 0:n(String(t))})},r)};function fn(n,r){try{var t=n()}catch(n){return r(n)}return t&&t.then?t.then(void 0,r):t}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var ln=function(n,t,e,u){void 0===u&&(u=[]);var o=c(t);r(function(){var r=n();if(r&&r.length){var t=new IntersectionObserver(function(n,r){return null==o.current?void 0:o.current(n,r)},e);return r.forEach(function(n){return t.observe(n)}),function(){return t.disconnect()}}},u)},vn=function(n){return n instanceof Object},dn=function(r,t){var e=n(!1),u="boolean"==typeof(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:void 0,o=vn(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:vn(arguments.length<=3?void 0:arguments[3])?arguments.length<=3?void 0:arguments[3]:void 0;ln(function(){return r.current&&[r.current]},function(n){try{var r=function(){e.current=!1};if(u||e.current||n.every(function(n){return!n.isIntersecting}))return Promise.resolve();e.current=!0;var o=fn(function(){return Promise.resolve(Promise.resolve(t())).then(function(){})},function(){});return Promise.resolve(o&&o.then?o.then(r):r())}catch(n){return Promise.reject(n)}},o)},sn=function(n,r,t){return ln(function(){return n.current&&[n.current]},r,t,[t])},pn=function(n,r){var e=r.period,u=r.leading,o=r.running,i=r.deps,a=void 0===i?[e,u,o]:i,f=c(n);t(function(){var n;return o&&(u&&(null==f.current||f.current()),n=setInterval(function(){return null==f.current?void 0:f.current()},e)),function(){n&&clearInterval(n)}},a)},mn=function(){var r=n(!1);return k(function(){return r.current=!0,function(){r.current=!1}}),u(function(){return r.current},[])},yn=function(n){return n.dataset.src},hn=function(r){void 0===r&&(r={});var t=r.getSrc,e=void 0===t?yn:t,o=V(r,["getSrc"]),i=n(new Map),c=u(function(n){if("string"==typeof n){var r=n;return function(n){i.current.set(n,r)}}if(n instanceof HTMLImageElement){var t=n,u=e(t);u&&i.current.set(t,u)}},[e]);return ln(function(){return Array.from(i.current.keys())},function(n,r){return n.forEach(function(n){var t=n.target;if(n.isIntersecting&&t instanceof HTMLImageElement){var u=i.current.get(t)||e(t);u&&(t.src=u),r.unobserve(t)}})},o),c},gn=function(n,r,e){return function(u,i){void 0===i&&(i=N);var c=mn(),a=o(i),f=a[0],l=a[1];return t(function(){if(r(u)){var t=u.id&&document.querySelector(n+"#"+u.id)||document.createElement(n);Object.assign(t,u);var o=function(){c()&&l(N)},i=function(n){c()&&l({loading:!1,error:n.error})};return t.addEventListener("load",o,!1),t.addEventListener("error",i,!1),l(U),e(t),function(){t.removeEventListener("load",o,!1),t.removeEventListener("error",i,!1)}}l(N)},[u,c]),f}},wn=gn("link",function(n){var r=n.href;return d()&&!!r&&!document.querySelector('link[href="'+r+'"]')},function(n){return document.head.appendChild(n)}),bn=function(n){return r=n,Object.fromEntries(["matches","media"].map(function(n){return[n,r[n]]}));var r},En=function(n,r){void 0===r&&(r={media:"",matches:!1});var e="string"==typeof n?n:i(n),u=o(d()?function(){return bn(window.matchMedia(e))}:r),c=u[0],a=u[1];return t(function(){var n=window.matchMedia(e),r=function(n){a(n)};return a(bn(n)),n.addListener(r),function(){return n.removeListener(r)}},[e]),c},An=function(n,t,e){var u=c(t);r(function(){if(n.current){var r=new MutationObserver(function(n,r){return null==u.current?void 0:u.current(n,r)});return r.observe(n.current,e),function(){return r.disconnect()}}},[u,n,e])},On=function(n){void 0===n&&(n=0);var r=o(n),t=r[1];return[r[0],t,cn(t)]},Sn=function(n,r){return A(document,["mousedown","touchstart"],function(t){r&&n.current&&!n.current.contains(t.target)&&r(t)})},jn=function(n){return A(document,"visibilitychange",function(){return null==n?void 0:n(document.visibilityState)})},Tn=function(){var n=o(document.visibilityState),r=n[0];return jn(n[1]),r},Pn=function(r){var e=n();return t(function(){e.current=r}),e.current},In=function(n,r,t){void 0===r&&(r=[]),void 0===t&&(t=N);var e=mn(),i=o(t),c=i[0],a=i[1],f=P();return[c,u(function(){var r=n.apply(void 0,arguments);f.set(r),r?(a(U),r.then(function(n){f.is(r)&&e()&&a({loading:!1,result:n})}).catch(function(n){f.is(r)&&e()&&a({loading:!1,error:n})})):a(N)},r)]},Fn=function(n,t){var e=c(t);r(function(){if(n.current){var r=new ResizeObserver(function(n){return null==e.current?void 0:e.current(n)});return r.observe(n.current),function(){return r.disconnect()}}},[e,n])},Ln=function(n,r){var t,e=null,u=setInterval(function(){e&&(t=n.apply(void 0,e),e=null)},r),o=function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=r,t};return o.cancel=function(){clearInterval(u),e=null},o},_n=y(Ln),kn=w(Ln),Mn=gn("script",function(n){var r=n.src;return d()&&!!r&&!document.querySelector('script[src="'+r+'"]')},function(n){return document.body.appendChild(n)}),xn=function(n){return null==n?void 0:n.getAttribute("id")},qn=function(r){void 0===r&&(r={threshold:1});var t=r.getId,e=void 0===t?xn:t,i=V(r,["getId"]),c=o(),a=c[0],f=c[1],l=n(new Map),v=n(new Set),d=u(function(n){if("string"==typeof n){var r=n;return function(n){l.current.set(n,r)}}if(n instanceof Element){var t=n,u=e(t);u&&l.current.set(t,u)}},[e]);return ln(function(){return Array.from(l.current.keys())},function(n){if(n.forEach(function(n){var r=n.target;n.isIntersecting?v.current.add(r):v.current.delete(r)}),v.current.size){var r=Array.from(v.current).reduce(function(n,r){return n.getBoundingClientRect().top<r.getBoundingClientRect().top?n:r}),t=l.current.get(r)||e(r);"string"==typeof t&&f(t)}},i),[a,d]},Rn=function(n){void 0===n&&(n="");var r=o(n),t=r[1];return[r[0],t,an(t)]},Hn=function(n,r,t){var e,u=void 0===t?{leading:!0,trailing:!0}:t,o=u.leading,i=u.trailing,c=null,a=null,f=function(){for(var t=arguments.length,u=new Array(t),f=0;f<t;f++)u[f]=arguments[f];return c=u,null===a&&(o&&(e=n.apply(void 0,c),c=null),a=setTimeout(function(){i&&null!==c&&(e=n.apply(void 0,c),c=null),a=null},r)),e};return f.cancel=function(){null!==a&&clearTimeout(a),c=null,a=null},f},Cn=y(Hn),Dn=w(Hn),Wn=function(n,r,e){void 0===e&&(e=[r]);var u=c(n);t(function(){var n=setTimeout(function(){return null==u.current?void 0:u.current()},r);return function(){return clearTimeout(n)}},e)},Bn=function(r,t){var e=c(r),o=n();return M(function(){o.current&&(clearTimeout(o.current.handle),o.current.resolve())}),u(function(){return new Promise(function(n){o.current&&(clearTimeout(o.current.handle),o.current.resolve());var r=setTimeout(function(){null==e.current||e.current(),n()},t);o.current={handle:r,resolve:n}})},[e,t])},zn=function(n){return k(function(){return n})},Vn=function(r,e){var u=n(document.title);t(function(){document.title=r},[r]),zn(function(){(null==e?void 0:e.restoreOnUnmount)&&(document.title=u.current)})},Nn=function(n){void 0===n&&(n=!1);var r=o(n),t=r[1];return[r[0],u(function(){return t(function(n){return!n})},[]),I(t,null,!0),I(t,null,!1),t]},Un=function(n,r){return void 0===r&&(r=!0),A(window,"beforeunload",function(r){return r.preventDefault(),n&&(r.returnValue=n),n},{enabled:r})},Xn=function(){var n=o(s),r=n[0],t=n[1];return A(window,"scroll",function(){return t(s())},{capture:!1,passive:!0,usingAnimationFrame:!0}),r},Yn=function(){var n=o(p),r=n[0],t=n[1];return A(window,"resize",function(){return t(p())}),r},Gn=function(r,t,e){void 0===e&&(e=N);var i=o(e),c=i[0],a=i[1],f=n(),l=u(function(n,e){f.current&&f.current.terminate();var u=new Worker(r,t);u.addEventListener("message",function(n){return a({loading:!1,result:n.data})}),u.addEventListener("error",function(n){return a({loading:!1,error:n.error})}),u.postMessage(n,e),a(U),f.current=u},[t,r]);return zn(function(){f.current&&f.current.terminate()}),[c,l]};export{a as useAnimationFrame,l as useArray,g as useAudit,b as useAuditValue,O as useBeforeUnload,S as useCallbackWithCleanup,T as useCheckInput,P as useCurrent,I as useCurryFunction,L as useDebounce,_ as useDebounceValue,M as useDidMount,x as useDidUpdate,k as useEffectOnce,A as useEvent,R as useFavicon,J as useFetch,K as useFetchArrayBuffer,Q as useFetchBlob,Z as useFetchFormData,$ as useFetchStream,nn as useFetchText,tn as useForceUpdate,un as useFullscreen,j as useHandleChangeCheck,on as useHandleChangeFile,cn as useHandleChangeNumber,an as useHandleChangeText,dn as useInfiniteScroll,sn as useIntersectionObserver,ln as useIntersectionObserverEffect,pn as useInterval,mn as useIsMounted,hn as useLazyLoad,wn as useLink,En as useMediaQuery,An as useMutationObserver,On as useNumberInput,Sn as useOnClickOutside,jn as usePageVisibility,Tn as usePageVisibilityState,Pn as usePrevious,X as usePromise,In as usePromiseCallback,Fn as useResizeObserver,_n as useSample,kn as useSampleValue,Mn as useScript,qn as useScrollSpy,Rn as useTextInput,Cn as useThrottle,Dn as useThrottleValue,Wn as useTimeout,Bn as useTimeoutCallback,Vn as useTitle,Nn as useToggle,en as useToggleFullscreen,rn as useTriggerUpdate,q as useUpdatedLink,c as useUpdatedRef,zn as useWillUnmount,Un as useWindowBeforeUnload,Xn as useWindowScrollOffset,Yn as useWindowSize,Gn as useWorkerCallback};
//# sourceMappingURL=index.m.js.map
