import{useRef as n,useLayoutEffect as r,useEffect as t,useState as e,useCallback as u,useContext as o,useReducer as c}from"react";var i=function(t,e){var u=n(t);return r(function(){u.current=t},e),u},a=function(n,r,t){var e;n&&(!t||(e=r.target)instanceof Object&&"matches"in e&&r.target.matches(t))&&n(r)},f=function(r,e,u,o){var c=void 0===o?{}:o,f=c.capture,l=c.once,v=c.passive,d=c.selectors,s=c.usingAnimationFrame,p=c.enabled,m=void 0===p||p,y=i(u),h=n(0);t(function(){if(m){var n=function(n){return n instanceof Function?n():n}(r);if(n){var t=function(n){s?(cancelAnimationFrame(h.current),h.current=requestAnimationFrame(function(){return a(y.current,n,d)})):a(y.current,n,d)},u=Array.isArray(e)?e:[e];return u.forEach(function(r){return n.addEventListener(r,t,{capture:f,once:l,passive:v})}),function(){s&&h.current&&cancelAnimationFrame(h.current),u.forEach(function(r){return n.removeEventListener(r,t,{capture:f})})}}}},[r,f,l,v,d,s,m].concat(e))},l=function(n,r){return void 0===r&&(r=!0),f(window,"beforeunload",function(r){return r.preventDefault(),n&&(r.returnValue=n),n},{enabled:r})},v=function(n){return function(r){var e=i(r);t(function(){var r=n.block(function(n,r){return null==e.current?void 0:e.current(n,r)});return function(){return r()}},[e])}},d=function(n){return function(r,t){void 0===r&&(r=!0),v(n)(function(){return r?t||!1:void 0}),l(t,r)}};function s(){return(s=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n}).apply(this,arguments)}function p(n){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function m(n,r){return(m=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(n,r)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function h(n,r,t){return(h=y()?Reflect.construct:function(n,r,t){var e=[null];e.push.apply(e,r);var u=new(Function.bind.apply(n,e));return t&&m(u,t.prototype),u}).apply(null,arguments)}function g(n){var r="function"==typeof Map?new Map:void 0;return(g=function(n){if(null===n||-1===Function.toString.call(n).indexOf("[native code]"))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(n))return r.get(n);r.set(n,t)}function t(){return h(n,arguments,p(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),m(t,n)})(n)}function w(n,r){if(null==n)return{};var t,e,u={},o=Object.keys(n);for(e=0;e<o.length;e++)r.indexOf(t=o[e])>=0||(u[t]=n[t]);return u}var b={loading:!1},E={loading:!0},A=function(n,r,u,o){void 0===r&&(r=[]),void 0===u&&(u=b);var c=e(u),i=c[0],a=c[1];return t(function(){var r=!1,t=n();if(t)return a(E),t.then(function(n){r||a({loading:!1,result:n})}).catch(function(n){r||a({loading:!1,error:n})}),function(){r=!0,null==o||o()};a(b)},r),i},O=function(n){var r,t;function e(r,t){var e;return(e=n.call(this,r||"Fetch Error")||this).status=t,e}return t=n,(r=e).prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t,e}(g(Error)),S=function(r,t){return function(e,u,o,c){var i=n();return A(function(){try{var n=new AbortController;return i.current=n,Promise.resolve(r(e,s({},u,{signal:n.signal}))).then(function(n){var r=!1;function e(t){if(r)return t;throw new O(n.statusText,n.status)}var u=function(){if(n.ok)return Promise.resolve(t(n)).then(function(n){return r=!0,n})}();return u&&u.then?u.then(e):e(u)})}catch(n){return Promise.reject(n)}},o,c,function(){var n;return null==(n=i.current)?void 0:n.abort()})}},j=function(n){return function(r){var e=i(r);t(function(){var r=n.listen(function(n,r){return null==e.current?void 0:e.current(n,r)});return function(){return r()}},[e])}},P=function(){return{}},T=function(){return"undefined"!=typeof window&&void 0!==window.document},I=function(){return T()?{x:window.scrollX,y:window.scrollY}:{}},L=function(){return T()?{innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight}:{}},F=function(n){return function(n){return n instanceof Object&&n.nativeEvent instanceof Event}(n)&&n.persist()},k=function(r){return function(e,o,c){var a=i(e),f=n(r(e,o,c));return t(function(){return f.current=r(function(){return a.current.apply(a,arguments)},o,c),function(){var n;return null==(n=f.current)?void 0:n.cancel()}},[a,c,o]),u(function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return r.forEach(F),f.current.apply(f,r)},[])}},_=function(r){return function(u,o,c,a){var f=e(),l=f[0],v=f[1],d=i(u),s=n(r(u,c,a));return t(function(){return s.current=r(function(){var n=d.current.apply(d,arguments);return v(n),n},c,a),function(){var n;return null==(n=s.current)?void 0:n.cancel()}},[d,a,c]),t(function(){s.current.apply(s,o)},o),l}},M=function(n){return t(n,[])},x=function(){var r=n(!1);return M(function(){return r.current=!0,function(){r.current=!1}}),u(function(){return r.current},[])},R=function(n,r,u){return function(o,c){void 0===c&&(c=b);var i=x(),a=e(c),f=a[0],l=a[1];return t(function(){if(r(o)){var t=o.id&&document.querySelector(n+"#"+o.id)||document.createElement(n);Object.assign(t,o);var e=function(){i()&&l(b)},c=function(n){i()&&l({loading:!1,error:n.error})};return t.addEventListener("load",e,!1),t.addEventListener("error",c,!1),l(E),u(t),function(){t.removeEventListener("load",e,!1),t.removeEventListener("error",c,!1)}}l(b)},[o,i]),f}},q=function(n){return function(){return function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];var e=h(URLSearchParams,r);return Object.fromEntries(e)}(o(n).location.search)}},H=function(n,r){void 0===r&&(r=[]);var e=i(n);t(function(){var n=requestAnimationFrame(function(n){return null==e.current?void 0:e.current(n)});return function(){return cancelAnimationFrame(n)}},r)},C=function(n,r){switch(r.type){case"append":return[].concat(n,[r.payload]);case"prepend":return[r.payload].concat(n);case"filter":return n.filter(r.payload);default:return n}},W=function(n){void 0===n&&(n=[]);var r=c(C,n),t=r[1];return[r[0],u(function(n){return t({type:"append",payload:n})},[t]),u(function(n){return t({type:"prepend",payload:n})},[t]),u(function(n){return t({type:"filter",payload:n})},[t])]},B=function(n,r){var t,e=null,u=null,o=function(){for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return u=c,null===e&&(e=setTimeout(function(){null!==u&&(t=n.apply(void 0,u),u=null),e=null},r)),t};return o.cancel=function(){null!==e&&clearTimeout(e),e=null,u=null},o},D=k(B),z=_(B),U=function(r,t){void 0===t&&(t=[]);var e=i(r),o=n();return u(function(){o.current&&o.current();for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];o.current=null==e.current?void 0:e.current.apply(e,r)},t)},N=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return u(function(n){var t=n.target.checked;return r.forEach(function(n){return null==n?void 0:n(Boolean(t))})},r)},V=function(n){void 0===n&&(n=!1);var r=e(n),t=r[1];return[r[0],t,N(t)]},X=function(r){var t=n(r);return{set:function(n){t.current=n},get:function(){return t.current},is:function(n){return t.current===n}}},Y=function(n,r){void 0===r&&(r=null);for(var t=arguments.length,e=new Array(t>2?t-2:0),o=2;o<t;o++)e[o-2]=arguments[o];return u(function(){for(var t=arguments.length,u=new Array(t),o=0;o<t;o++)u[o]=arguments[o];return null==n?void 0:n.apply(r,[].concat(e,u))},[n].concat(e))},G=function(n,r,t){var e,u=void 0===t?{trailing:!0}:t,o=u.leading,c=u.trailing,i=null,a=null,f=function(){for(var t=arguments.length,u=new Array(t),f=0;f<t;f++)u[f]=arguments[f];return i=u,null!==a?clearTimeout(a):o&&(e=n.apply(void 0,i),i=null),a=setTimeout(function(){c&&null!==i&&(e=n.apply(void 0,i),i=null),a=null},r),e};return f.cancel=function(){null!==a&&clearTimeout(a),i=null,a=null},f},J=k(G),K=_(G),Q=function(n){return M(n)},Z=function(r,e){var u=n(!1);t(u.current?r:function(){u.current=!0},e)},$=function(n,r,e){void 0===e&&(e=[]);var u=i(r);t(function(){var r=u.current,t=("function"==typeof r?r():document.querySelector(r))||document.createElement("link");t instanceof HTMLLinkElement&&(Object.assign(t,n),document.head.appendChild(t))},e)},nn=function(n){return $({href:n,rel:"shortcut icon",type:"image/x-icon"},"link[rel='shortcut icon']",[n])},rn=S(fetch,function(n){return n.json()}),tn=S(fetch,function(n){return n.arrayBuffer()}),en=S(fetch,function(n){return n.blob()}),un=S(fetch,function(n){return n.formData()}),on=S(fetch,function(n){return Promise.resolve(n.body)}),cn=S(fetch,function(n){return n.text()}),an=function(){return c(P,{})},fn=function(){return an()[1]},ln=function(n,r,t){void 0===r&&(r=null),void 0===t&&(t=null);var e=u(function(r){var t;!document.fullscreenElement||!1!==r&&void 0!==r||document.exitFullscreen(),document.fullscreenElement||!0!==r&&void 0!==r||null==(t=n.current)||null==t.requestFullscreen||t.requestFullscreen()},[n]);return f(document,"fullscreenchange",r),f(document,"fullscreenerror",t),e},vn=function(n){var r=e(!1),t=r[0],u=r[1],o=ln(n,function(){return u(!!document.fullscreenElement&&document.fullscreenElement===n.current)});return[t,o,Y(o,null,!0),Y(o,null,!1)]},dn=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return u(function(n){var t=n.target.files;return r.forEach(function(n){return null==n?void 0:n(t)})},r)},sn=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return u(function(n){var t=n.target.value;return r.forEach(function(n){return null==n?void 0:n(Number(t))})},r)},pn=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return u(function(n){var t=n.target.value;return r.forEach(function(n){return null==n?void 0:n(String(t))})},r)};function mn(n,r){try{var t=n()}catch(n){return r(n)}return t&&t.then?t.then(void 0,r):t}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var yn=function(n,t,e,u){void 0===u&&(u=[]);var o=i(t);r(function(){var r=n();if(r&&r.length){var t=new IntersectionObserver(function(n,r){return null==o.current?void 0:o.current(n,r)},e);return r.forEach(function(n){return t.observe(n)}),function(){return t.disconnect()}}},u)},hn=function(n){return n instanceof Object},gn=function(r,t){var e=n(!1),u="boolean"==typeof(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:void 0,o=hn(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:hn(arguments.length<=3?void 0:arguments[3])?arguments.length<=3?void 0:arguments[3]:void 0;yn(function(){return r.current&&[r.current]},function(n){try{var r=function(){e.current=!1};if(u||e.current||n.every(function(n){return!n.isIntersecting}))return Promise.resolve();e.current=!0;var o=mn(function(){return Promise.resolve(Promise.resolve(t())).then(function(){})},function(){});return Promise.resolve(o&&o.then?o.then(r):r())}catch(n){return Promise.reject(n)}},o)},wn=function(n,r,t){return yn(function(){return n.current&&[n.current]},r,t,[t])},bn=function(n,r){var e=r.period,u=r.leading,o=r.running,c=r.deps,a=void 0===c?[e,u,o]:c,f=i(n);t(function(){var n;return o&&(u&&(null==f.current||f.current()),n=setInterval(function(){return null==f.current?void 0:f.current()},e)),function(){n&&clearInterval(n)}},a)},En=function(n){return n.dataset.src},An=function(r){var t=void 0===r?{}:r,e=t.getSrc,o=void 0===e?En:e,c=w(t,["getSrc"]),i=n(new Map),a=u(function(n){if("string"==typeof n){var r=n;return function(n){i.current.set(n,r)}}if(n instanceof HTMLImageElement){var t=n,e=o(t);e&&i.current.set(t,e)}},[o]);return yn(function(){return Array.from(i.current.keys())},function(n,r){return n.forEach(function(n){var t=n.target;if(n.isIntersecting&&t instanceof HTMLImageElement){var e=i.current.get(t)||o(t);e&&(t.src=e),r.unobserve(t)}})},c),a},On=R("link",function(n){var r=n.href;return T()&&!!r&&!document.querySelector('link[href="'+r+'"]')},function(n){return document.head.appendChild(n)}),Sn=function(n){return function(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];return Object.fromEntries(t.map(function(r){return[r,n[r]]}))}(n,"matches","media")},jn=function(n,r){void 0===r&&(r={media:"",matches:!1});var u=e(T()?function(){return Sn(window.matchMedia(n))}:r),o=u[0],c=u[1];return t(function(){var r=window.matchMedia(n),t=function(n){c(n)};return c(Sn(r)),r.addListener(t),function(){return r.removeListener(t)}},[n]),o},Pn=function(n,t,e){var u=i(t);r(function(){if(n.current){var r=new MutationObserver(function(n,r){return null==u.current?void 0:u.current(n,r)});return r.observe(n.current,e),function(){return r.disconnect()}}},[u,n,e])},Tn=function(n){void 0===n&&(n=0);var r=e(n),t=r[1];return[r[0],t,sn(t)]},In=function(n,r){return f(document,["mousedown","touchstart"],function(t){r&&n.current&&!n.current.contains(t.target)&&r(t)})},Ln=function(n){return f(document,"visibilitychange",function(){return null==n?void 0:n(document.visibilityState)})},Fn=function(){var n=e(document.visibilityState),r=n[0];return Ln(n[1]),r},kn=function(r){var e=n();return t(function(){e.current=r}),e.current},_n=function(n,r,t){void 0===r&&(r=[]),void 0===t&&(t=b);var o=x(),c=e(t),i=c[0],a=c[1],f=X();return[i,u(function(){var r=n.apply(void 0,arguments);f.set(r),r?(a(E),r.then(function(n){f.is(r)&&o()&&a({loading:!1,result:n})}).catch(function(n){f.is(r)&&o()&&a({loading:!1,error:n})})):a(b)},r)]},Mn=function(n,t){var e=i(t);r(function(){if(n.current){var r=new ResizeObserver(function(n){return null==e.current?void 0:e.current(n)});return r.observe(n.current),function(){return r.disconnect()}}},[e,n])},xn=function(n,r){var t,e=null,u=setInterval(function(){e&&(t=n.apply(void 0,e),e=null)},r),o=function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=r,t};return o.cancel=function(){clearInterval(u),e=null},o},Rn=k(xn),qn=_(xn),Hn=R("script",function(n){var r=n.src;return T()&&!!r&&!document.querySelector('script[src="'+r+'"]')},function(n){return document.body.appendChild(n)}),Cn=function(n){return null==n?void 0:n.getAttribute("id")},Wn=function(r){var t=void 0===r?{threshold:1}:r,o=t.getId,c=void 0===o?Cn:o,i=w(t,["getId"]),a=e(),f=a[0],l=a[1],v=n(new Map),d=n(new Set),s=u(function(n){if("string"==typeof n){var r=n;return function(n){v.current.set(n,r)}}if(n instanceof Element){var t=n,e=c(t);e&&v.current.set(t,e)}},[c]);return yn(function(){return Array.from(v.current.keys())},function(n){if(n.forEach(function(n){var r=n.target;n.isIntersecting?d.current.add(r):d.current.delete(r)}),d.current.size){var r=Array.from(d.current).reduce(function(n,r){return n.getBoundingClientRect().top<r.getBoundingClientRect().top?n:r}),t=v.current.get(r)||c(r);"string"==typeof t&&l(t)}},i),[f,s]},Bn=function(n){void 0===n&&(n="");var r=e(n),t=r[1];return[r[0],t,pn(t)]},Dn=function(n,r,t){var e,u=void 0===t?{leading:!0,trailing:!0}:t,o=u.leading,c=u.trailing,i=null,a=null,f=function(){for(var t=arguments.length,u=new Array(t),f=0;f<t;f++)u[f]=arguments[f];return i=u,null===a&&(o&&(e=n.apply(void 0,i),i=null),a=setTimeout(function(){c&&null!==i&&(e=n.apply(void 0,i),i=null),a=null},r)),e};return f.cancel=function(){null!==a&&clearTimeout(a),i=null,a=null},f},zn=k(Dn),Un=_(Dn),Nn=function(n,r,e){void 0===e&&(e=[r]);var u=i(n);t(function(){var n=setTimeout(function(){return null==u.current?void 0:u.current()},r);return function(){return clearTimeout(n)}},e)},Vn=function(r,t){var e=i(r),o=n();return Q(function(){o.current&&(clearTimeout(o.current.handle),o.current.resolve())}),u(function(){return new Promise(function(n){o.current&&(clearTimeout(o.current.handle),o.current.resolve());var r=setTimeout(function(){null==e.current||e.current(),n()},t);o.current={handle:r,resolve:n}})},[e,t])},Xn=function(n){return M(function(){return n})},Yn=function(r,e){var u=n(document.title);t(function(){document.title=r},[r]),Xn(function(){(null==e?void 0:e.restoreOnUnmount)&&(document.title=u.current)})},Gn=function(n){void 0===n&&(n=!1);var r=e(n),t=r[1];return[r[0],u(function(){return t(function(n){return!n})},[]),Y(t,null,!0),Y(t,null,!1),t]},Jn=function(){var n=e(I),r=n[0],t=n[1];return f(window,"scroll",function(){return t(I())},{capture:!1,passive:!0,usingAnimationFrame:!0}),r},Kn=function(){var n=e(L),r=n[0],t=n[1];return f(window,"resize",function(){return t(L())}),r},Qn=function(r,t,o){void 0===o&&(o=b);var c=e(o),i=c[0],a=c[1],f=n(),l=u(function(n,e){f.current&&f.current.terminate();var u=new Worker(r,t);u.addEventListener("message",function(n){return a({loading:!1,result:n.data})}),u.addEventListener("error",function(n){return a({loading:!1,error:n.error})}),u.postMessage(n,e),a(E),f.current=u},[t,r]);return Xn(function(){f.current&&f.current.terminate()}),[i,l]};export{d as createBeforeLeaveHook,S as createFetchHook,v as createHistoryBlockHook,j as createHistoryListenHook,k as createRateLimitHook,_ as createRateLimitValueHook,R as createResourceHook,q as createSearchParamsObjectHook,H as useAnimationFrame,W as useArray,D as useAudit,z as useAuditValue,U as useCallbackWithCleanup,V as useCheckInput,X as useCurrent,Y as useCurryFunction,J as useDebounce,K as useDebounceValue,Q as useDidMount,Z as useDidUpdate,M as useEffectOnce,f as useEvent,nn as useFavicon,rn as useFetch,tn as useFetchArrayBuffer,en as useFetchBlob,un as useFetchFormData,on as useFetchStream,cn as useFetchText,fn as useForceUpdate,vn as useFullscreen,N as useHandleChangeCheck,dn as useHandleChangeFile,sn as useHandleChangeNumber,pn as useHandleChangeText,gn as useInfiniteScroll,wn as useIntersectionObserver,yn as useIntersectionObserverEffect,bn as useInterval,x as useIsMounted,An as useLazyLoad,On as useLink,jn as useMediaQuery,Pn as useMutationObserver,Tn as useNumberInput,In as useOnClickOutside,Ln as usePageVisibility,Fn as usePageVisibilityState,kn as usePrevious,A as usePromise,_n as usePromiseCallback,Mn as useResizeObserver,Rn as useSample,qn as useSampleValue,Hn as useScript,Wn as useScrollSpy,Bn as useTextInput,zn as useThrottle,Un as useThrottleValue,Nn as useTimeout,Vn as useTimeoutCallback,Yn as useTitle,Gn as useToggle,ln as useToggleFullscreen,an as useTriggerUpdate,$ as useUpdatedLink,i as useUpdatedRef,Xn as useWillUnmount,l as useWindowBeforeUnload,Jn as useWindowScrollOffset,Kn as useWindowSize,Qn as useWorkerCallback};
//# sourceMappingURL=index.m.js.map
