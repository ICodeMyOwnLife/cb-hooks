import{useRef as n,useLayoutEffect as r,useEffect as t,useCallback as e,useState as u,useReducer as i}from"react";import o from"json2mq";var c=function(t,e){var u=n(t);return r(function(){u.current=t},e),u},a=function(n,r){void 0===r&&(r=[]);var e=c(n);t(function(){var n=requestAnimationFrame(function(n){return null==e.current?void 0:e.current(n)});return function(){return cancelAnimationFrame(n)}},r)},l=function(){return{}},f=function(){return"undefined"!=typeof window&&void 0!==window.document},v=function(){return f()?{x:window.scrollX,y:window.scrollY}:{}},d=function(){return f()?{innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight}:{}},s=function(n){return function(n){return n instanceof Object&&n.nativeEvent instanceof Event}(n)&&n.persist()},m=function(r){return function(u,i,o){var a=c(u),l=n(r(u,i,o));return t(function(){return l.current=r(function(){return a.current.apply(a,arguments)},i,o),function(){var n;return null==(n=l.current)?void 0:n.cancel()}},[a,o,i]),e(function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return r.forEach(s),l.current.apply(l,r)},[])}},g=function(n,r){var t,e=null,u=null,i=function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return u=o,null===e&&(e=setTimeout(function(){null!==u&&(t=n.apply(void 0,u),u=null),e=null},r)),t};return i.cancel=function(){null!==e&&clearTimeout(e),e=null,u=null},i},p=m(g),h=function(r){return function(e,i,o,a){var l=u(),f=l[0],v=l[1],d=c(e),s=n(r(e,o,a));return t(function(){return s.current=r(function(){var n=d.current.apply(d,arguments);return v(n),n},o,a),function(){var n;return null==(n=s.current)?void 0:n.cancel()}},[d,a,o]),t(function(){s.current.apply(s,i)},i),f}},w=h(g),y=function(r,t){void 0===t&&(t=[]);var u=c(r),i=n();return e(function(){i.current&&i.current();for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];i.current=null==u.current?void 0:u.current.apply(u,r)},t)},E=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return e(function(n){var t=n.target.checked;return r.forEach(function(n){return null==n?void 0:n(Boolean(t))})},r)},A=function(n){void 0===n&&(n=!1);var r=u(n),t=r[1];return[r[0],t,E(t)]},b=function(r){var t=n(r);return{set:function(n){t.current=n},get:function(){return t.current},is:function(n){return t.current===n}}},T=function(n,r){void 0===r&&(r=null);for(var t=arguments.length,u=new Array(t>2?t-2:0),i=2;i<t;i++)u[i-2]=arguments[i];return e(function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return null==n?void 0:n.apply(r,[].concat(u,e))},[n].concat(u))},L=function(n,r,t){var e,u=void 0===t?{trailing:!0}:t,i=u.leading,o=u.trailing,c=null,a=null,l=function(){for(var t=arguments.length,u=new Array(t),l=0;l<t;l++)u[l]=arguments[l];return c=u,null!==a?clearTimeout(a):i&&(e=n.apply(void 0,c),c=null),a=setTimeout(function(){o&&null!==c&&(e=n.apply(void 0,c),c=null),a=null},r),e};return l.cancel=function(){null!==a&&clearTimeout(a),c=null,a=null},l},F=m(L),I=h(L),O=function(n){return t(n,[])},q=function(n){return O(n)},M=function(r,e){var u=n(!1);t(u.current?r:function(){u.current=!0},e)},H=function(n,r,t){var e;n&&(!t||(e=r.target)instanceof Object&&"matches"in e&&r.target.matches(t))&&n(r)},j=function(r,e,u,i){var o=void 0===i?{}:i,a=o.capture,l=o.once,f=o.passive,v=o.selectors,d=o.usingAnimationFrame,s=o.enabled,m=void 0===s||s,g=c(u),p=n(0);t(function(){if(m){var n=function(n){return n instanceof Function?n():n}(r);if(n){var t=function(n){d?(cancelAnimationFrame(p.current),p.current=requestAnimationFrame(function(){return H(g.current,n,v)})):H(g.current,n,v)},u=Array.isArray(e)?e:[e];return u.forEach(function(r){return n.addEventListener(r,t,{capture:a,once:l,passive:f})}),function(){d&&p.current&&cancelAnimationFrame(p.current),u.forEach(function(r){return n.removeEventListener(r,t,{capture:a})})}}}},[r,a,l,f,v,d,m].concat(e))},S=function(){return i(l,{})},W=function(){return S()[1]},k=function(n,r,t){void 0===r&&(r=null),void 0===t&&(t=null);var u=e(function(r){var t;!document.fullscreenElement||!1!==r&&void 0!==r||document.exitFullscreen(),document.fullscreenElement||!0!==r&&void 0!==r||null==(t=n.current)||null==t.requestFullscreen||t.requestFullscreen()},[n]);return j(document,"fullscreenchange",r),j(document,"fullscreenerror",t),u},x=function(n){var r=u(!1),t=r[0],e=r[1],i=k(n,function(){return e(!!document.fullscreenElement&&document.fullscreenElement===n.current)});return[t,i,T(i,null,!0),T(i,null,!1)]},z=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return e(function(n){var t=n.target.files;return r.forEach(function(n){return null==n?void 0:n(t)})},r)},B=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return e(function(n){var t=n.target.value;return r.forEach(function(n){return null==n?void 0:n(Number(t))})},r)},C=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];return e(function(n){var t=n.target.value;return r.forEach(function(n){return null==n?void 0:n(String(t))})},r)},R=function(n,t,e){var u=c(t);r(function(){if(n.current){var r=new IntersectionObserver(function(n,r){return null==u.current?void 0:u.current(n,r)},e);return r.observe(n.current),function(){return r.disconnect()}}},[u,n,e])},D=function(n,r){var e=r.period,u=r.leading,i=r.running,o=r.deps,a=void 0===o?[e,u,i]:o,l=c(n);t(function(){var n;return i&&(u&&(null==l.current||l.current()),n=setInterval(function(){return null==l.current?void 0:l.current()},e)),function(){n&&clearInterval(n)}},a)},N=function(){var r=n(!1);return O(function(){return r.current=!0,function(){r.current=!1}}),e(function(){return r.current},[])},P=function(){var r=n(new Map),u=e(function(n){if("string"==typeof n){var t=n;return function(n){r.current.set(n,t)}}if(n instanceof HTMLImageElement){var e=n.dataset.src;e&&r.current.set(n,e)}},[]);return t(function(){var n=new IntersectionObserver(function(n,t){return n.forEach(function(n){var e=n.target;if(n.isIntersecting&&e instanceof HTMLImageElement){var u=r.current.get(e)||e.dataset.src;u&&(e.src=u),t.unobserve(e)}})});return r.current.forEach(function(r,t){return n.observe(t)}),function(){return n.disconnect()}},[]),u},V={loading:!1},X={loading:!0},Y=function(n,r){return function(e,i){void 0===i&&(i=V);var o=N(),c=u(i),a=c[0],l=c[1];return t(function(){if(r(e)){var t=e.id&&document.querySelector(n+"#"+e.id)||document.createElement(n);Object.assign(t,e);var u=function(){o()&&l(V)},i=function(n){o()&&l({loading:!1,error:n.error})};return t.addEventListener("load",u,!1),t.addEventListener("error",i,!1),l(X),document.body.appendChild(t),function(){t.removeEventListener("load",u,!1),t.removeEventListener("error",i,!1)}}l(V)},[e,o]),a}},G=Y("link",function(n){var r=n.href;return f()&&!!r&&!document.querySelector('link[href="'+r+'"]')}),J=function(n){return r=n,Object.fromEntries(["matches","media"].map(function(n){return[n,r[n]]}));var r},K=function(n,r){void 0===r&&(r={media:"",matches:!1});var e="string"==typeof n?n:o(n),i=u(f()?function(){return J(window.matchMedia(e))}:r),c=i[0],a=i[1];return t(function(){var n=window.matchMedia(e),r=function(n){a(n)};return a(J(n)),n.addListener(r),function(){return n.removeListener(r)}},[e]),c},Q=function(n,t,e){var u=c(t);r(function(){if(n.current){var r=new MutationObserver(function(n,r){return null==u.current?void 0:u.current(n,r)});return r.observe(n.current,e),function(){return r.disconnect()}}},[u,n,e])},U=function(n){void 0===n&&(n=0);var r=u(n),t=r[1];return[r[0],t,B(t)]},Z=function(n,r){return j(document,["mousedown","touchstart"],function(t){r&&n.current&&!n.current.contains(t.target)&&r(t)})},$=function(r){var e=n();return t(function(){e.current=r}),e.current},_=function(n,r,e){void 0===r&&(r=[]),void 0===e&&(e=V);var i=u(e),o=i[0],c=i[1];return t(function(){var r=!1,t=n();if(t)return c(X),t.then(function(n){r||c({loading:!1,result:n})}).catch(function(n){r||c({loading:!1,error:n})}),function(){r=!0};c(V)},r),o},nn=function(n,r,t){void 0===r&&(r=[]),void 0===t&&(t=V);var i=N(),o=u(t),c=o[0],a=o[1],l=b();return[c,e(function(){var r=n.apply(void 0,arguments);l.set(r),r?(a(X),r.then(function(n){l.is(r)&&i()&&a({loading:!1,result:n})}).catch(function(n){l.is(r)&&i()&&a({loading:!1,error:n})})):a(V)},r)]},rn=function(n,t){var e=c(t);r(function(){if(n.current){var r=new ResizeObserver(function(n){return null==e.current?void 0:e.current(n)});return r.observe(n.current),function(){return r.disconnect()}}},[e,n])},tn=function(n,r){var t,e=null,u=setInterval(function(){e&&(t=n.apply(void 0,e),e=null)},r),i=function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=r,t};return i.cancel=function(){clearInterval(u),e=null},i},en=m(tn),un=h(tn),on=Y("script",function(n){var r=n.src;return f()&&!!r&&!document.querySelector('script[src="'+r+'"]')}),cn=function(){var r=u(),i=r[0],o=r[1],c=n(new Map),a=n(new Set),l=e(function(n){if("string"==typeof n){var r=n;return function(n){c.current.set(n,r)}}if(n instanceof Element){var t=n,e=n.getAttribute("id");e&&c.current.set(t,e)}},[]);return t(function(){var n=new IntersectionObserver(function(n){if(n.forEach(function(n){var r=n.target;n.isIntersecting?a.current.add(r):a.current.delete(r)}),a.current.size){var r=Array.from(a.current).reduce(function(n,r){return n.getBoundingClientRect().top<r.getBoundingClientRect().top?n:r}),t=c.current.get(r)||(null==r?void 0:r.getAttribute("id"));"string"==typeof t&&o(t)}},{threshold:1});return c.current.forEach(function(r,t){return n.observe(t)}),function(){return n.disconnect()}},[]),[i,l]},an=function(n){void 0===n&&(n="");var r=u(n),t=r[1];return[r[0],t,C(t)]},ln=function(n,r,t){var e,u=void 0===t?{leading:!0,trailing:!0}:t,i=u.leading,o=u.trailing,c=null,a=null,l=function(){for(var t=arguments.length,u=new Array(t),l=0;l<t;l++)u[l]=arguments[l];return c=u,null===a&&(i&&(e=n.apply(void 0,c),c=null),a=setTimeout(function(){o&&null!==c&&(e=n.apply(void 0,c),c=null),a=null},r)),e};return l.cancel=function(){null!==a&&clearTimeout(a),c=null,a=null},l},fn=m(ln),vn=h(ln),dn=function(n,r,e){void 0===e&&(e=[r]);var u=c(n);t(function(){var n=setTimeout(function(){return null==u.current?void 0:u.current()},r);return function(){return clearTimeout(n)}},e)},sn=function(r,t){var u=c(r),i=n();return q(function(){i.current&&(clearTimeout(i.current.handle),i.current.resolve())}),e(function(){return new Promise(function(n){i.current&&(clearTimeout(i.current.handle),i.current.resolve());var r=setTimeout(function(){null==u.current||u.current(),n()},t);i.current={handle:r,resolve:n}})},[u,t])},mn=function(n){void 0===n&&(n=!1);var r=u(n),t=r[1];return[r[0],e(function(){return t(function(n){return!n})},[]),T(t,null,!0),T(t,null,!1),t]},gn=function(n){return O(function(){return n})},pn=function(n,r){return void 0===r&&(r=!0),j(window,"beforeunload",function(r){return r.preventDefault(),n&&(r.returnValue=n),n},{enabled:r})},hn=function(){var n=u(v),r=n[0],t=n[1];return j(window,"scroll",function(){return t(v())},{capture:!1,passive:!0,usingAnimationFrame:!0}),r},wn=function(){var n=u(d),r=n[0],t=n[1];return j(window,"resize",function(){return t(d())}),r},yn=function(r,t,i){void 0===i&&(i=V);var o=u(i),c=o[0],a=o[1],l=n(),f=e(function(n,e){l.current&&l.current.terminate();var u=new Worker(r,t);u.addEventListener("message",function(n){return a({loading:!1,result:n.data})}),u.addEventListener("error",function(n){return a({loading:!1,error:n.error})}),u.postMessage(n,e),a(X),l.current=u},[t,r]);return gn(function(){l.current&&l.current.terminate()}),[c,f]};export{a as useAnimationFrame,p as useAudit,w as useAuditValue,y as useCallbackWithCleanup,A as useCheckInput,b as useCurrent,T as useCurryFunction,F as useDebounce,I as useDebounceValue,q as useDidMount,M as useDidUpdate,O as useEffectOnce,j as useEvent,W as useForceUpdate,x as useFullscreen,E as useHandleChangeCheck,z as useHandleChangeFile,B as useHandleChangeNumber,C as useHandleChangeText,R as useIntersectionObserver,D as useInterval,N as useIsMounted,P as useLazyLoad,G as useLink,K as useMediaQuery,Q as useMutationObserver,U as useNumberInput,Z as useOnClickOutside,$ as usePrevious,_ as usePromise,nn as usePromiseCallback,rn as useResizeObserver,en as useSample,un as useSampleValue,on as useScript,cn as useScrollSpy,an as useTextInput,fn as useThrottle,vn as useThrottleValue,dn as useTimeout,sn as useTimeoutCallback,mn as useToggle,k as useToggleFullscreen,S as useTriggerUpdate,c as useUpdatedRef,gn as useWillUnmount,pn as useWindowBeforeUnload,hn as useWindowScrollOffset,wn as useWindowSize,yn as useWorkerCallback};
//# sourceMappingURL=index.m.js.map
